<!DOCTYPE html>
<html lang="en"><head>
<script src="index_files/libs/clipboard/clipboard.min.js"></script>
<script src="index_files/libs/quarto-html/tabby.min.js"></script>
<script src="index_files/libs/quarto-html/popper.min.js"></script>
<script src="index_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="index_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<link href="index_files/libs/quarto-contrib/custom-callouts-0.1.0/custom-callouts.scss" rel="stylesheet"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.7.32">

  <title>index</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="index_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="index_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="index_files/libs/revealjs/dist/theme/quarto-204bac6d36fe7f2428ee7e8e7967cfe5.css">
  <link href="index_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">


<section id="section" class="slide level2">
<h2></h2>
<div class="columns">
<div class="column" style="width:37.5%;">

</div><div class="column" style="width:60%;">
<div class="title" data-id="title">
<p>ggtime: Visualizing time with a grammar of temporal graphics</p>
</div>
<div class="dateplace">
<p>5th August 2025 @ JSM, Nashville TN</p>
</div>
<div class="authors">
<p>Mitchell O‚ÄôHara-Wild, Monash University</p>
<p>Cynthia Huang, Monash University</p>
<p>Matthew Kay, Northwestern University</p>
<p>Rob Hyndman, Monash University</p>
</div>
<div class="callout-link">
<div class="callout callout-link callout-titled callout-style-simple">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Useful links</strong></p>
</div>
<div class="callout-content">
<p><img data-src="resources/forum.svg" class="icon"> <a href="https://social.mitchelloharawild.com/">social.mitchelloharawild.com</a></p>
<p><img data-src="resources/projector-screen-outline.svg" class="icon"> <a href="https://slides.mitchelloharawild.com/jsm2025">slides.mitchelloharawild.com/jsm2025</a></p>
<p><img data-src="resources/github.svg" class="icon"> <a href="https://github.com/mitchelloharawild/talk-jsm-ggtime">mitchelloharawild/talk-jsm-ggtime</a></p>
</div>
</div>
</div>
</div>
</div></div>
<p><img data-src="backgrounds/estee-janssens-zni0zgb3bkQ-unsplash.jpg" class="image-left"></p>
<!-- ## {} -->
<!-- ### Exploratory analysis in the forecasting workflow -->
<!-- ![](resources/workflow.png) -->
<!-- ## {} -->
<!-- ### Exploratory analysis in the forecasting workflow -->
<!-- ![](resources/workflow-etsa.png) -->
</section>
<section id="section-1" class="slide level2">
<h2></h2>
<div class="columns">
<div class="column" style="width:37.5%;">

</div><div class="column" style="width:62.5%;">
<h3 id="exploring-semantic-variables">Exploring <em>semantic</em> variables</h3>
<p>Several types of data require unique care.</p>
<ul>
<li class="fragment"><p><span class="emoji" data-emoji="four_leaf_clover">üçÄ</span> uncertainty</p>
<p><code>{distributional}</code> / <code>{ggdist}</code></p></li>
<li class="fragment"><p><span class="emoji" data-emoji="spider_web">üï∏Ô∏è</span> graph</p>
<p><code>{tidygraph}</code> / <code>{ggraph}</code></p></li>
<li class="fragment"><p><span class="emoji" data-emoji="world_map">üó∫Ô∏è</span> space</p>
<p><code>{sf}</code> / <code>{ggplot2}</code></p></li>
<li class="fragment"><p><span class="emoji" data-emoji="hourglass">‚åõ</span> <strong>time</strong></p>
<p><code>{mixtime}</code> / <code>{ggtime}</code></p></li>
</ul>
</div></div>

<img data-src="backgrounds/david-pisnoy-46juD4zY1XA-unsplash.jpg" class="image-left r-stretch"></section>
<section id="section-2" class="slide level2">
<h2></h2>
<div class="columns">
<div class="column" style="width:60%;">
<h3 id="exploring-temporal-data">Exploring temporal data</h3>
<p>Time is comparatively simple dimension, it is a <em>continuous</em> and <em>ordered</em> variable.</p>
<p>Why do we need specialised tools?</p>
<div class="fragment fade-up">
<div class="callout callout-note no-icon callout-titled callout-style-simple">
<div class="callout-body">
<div class="callout-title">
<p><strong><span class="emoji" data-emoji="calendar">üìÜ</span> Calendrical time</strong></p>
</div>
<div class="callout-content">
<p>While time itself is simple, <strong>calendrical patterns are complex</strong>!</p>
<p>Temporal data/patterns align with calendars.</p>
<ul>
<li class="fragment">Calender systems (Gregorian, Islamic, Chinese, Jewish, ‚Ä¶)</li>
<li class="fragment">Timezones (local/civil time, absolute time)</li>
<li class="fragment">Granularities (hourly, daily, weekly, monthly, annual, ‚Ä¶)</li>
<li class="fragment">Corrections (leap years, leap seconds)</li>
<li class="fragment">Seasonality (weekdays/weekends, financial years, holidays)</li>
</ul>
</div>
</div>
</div>
</div>
</div></div>

<img data-src="backgrounds/andrik-langfield-0rTCXZM7Xfo-unsplash.jpg" class="image-right r-stretch"></section>
<section id="section-3" class="slide level2">
<h2></h2>
<div class="columns">
<div class="column" style="width:40%;">

</div><div class="column" style="width:60%;">
<h3 id="time-series-visualisation">Time series visualisation</h3>
<div class="fragment fade-up">
<div class="callout callout-tip callout-titled callout-style-simple">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>ggplot2 already supports temporal data</strong></p>
</div>
<div class="callout-content">
<p>Simply map a date (<code>Date</code>), datetime (<code>POSIXct</code>), or even time (<code>hms</code>) to any aesthetic. Scales to adjust temporal labels and breaks exist in ggplot2:</p>
<ul>
<li><code>scale_*_date()</code> for <code>Date</code>,</li>
<li><code>scale_*_datetime()</code> for <code>POSIXct</code>,</li>
<li><code>scale_*_time()</code> for <code>hms</code>.</li>
</ul>
</div>
</div>
</div>
</div>
<div class="fragment fade-up">
<div class="callout callout-important no-icon callout-titled callout-style-simple">
<div class="callout-body">
<div class="callout-title">
<p><strong><span class="emoji" data-emoji="alarm_clock">‚è∞</span> So why do we need ggtime?</strong></p>
</div>
<div class="callout-content">
<p><code>{ggtime}</code> visualises time with calendrical patterns.</p>
<ul>
<li>Visualisation of more calendars and granularities</li>
<li>Alignment options for timezones, granularities &amp; cycles</li>
<li>Cyclical and calendar layouts for seasonality &amp; holidays</li>
</ul>
</div>
</div>
</div>
</div>
</div></div>

<img data-src="backgrounds/estee-janssens-zni0zgb3bkQ-unsplash.jpg" class="image-left r-stretch"></section>
<section id="section-4" class="slide level2">
<h2></h2>
<div class="columns">
<div class="column" style="width:40%;">

</div><div class="column" style="width:60%;">
<h3 id="extending-ggplot2-with-ggtime">Extending ggplot2 with ggtime</h3>
<p><code>ggplot2</code> extensions can be categorised into:</p>
<div class="fragment fade-up">
<div class="callout callout-note no-icon callout-titled callout-style-simple">
<div class="callout-body">
<div class="callout-title">
<p><strong><span class="emoji" data-emoji="framed_picture">üñºÔ∏è</span> Plot helpers</strong></p>
</div>
<div class="callout-content">
<p>Functions which are used to quickly create a specific plot.</p>
<ul>
<li><code>autoplot()</code> / <code>autolayer()</code></li>
<li><code>ggtime::gg_season()</code></li>
<li><code>ggtime::gg_subseries()</code></li>
</ul>
</div>
</div>
</div>
</div>
<div class="fragment fade-up">
<div class="callout callout-tip no-icon callout-titled callout-style-simple">
<div class="callout-body">
<div class="callout-title">
<p><strong><span class="emoji" data-emoji="art">üé®</span> Grammar extensions</strong></p>
</div>
<div class="callout-content">
<p>Functions which add new features to the ggplot2‚Äôs grammar.</p>
<ul>
<li><code>ggtime::geom_time_line()</code></li>
<li><code>ggtime::scale_x_mixtime()</code></li>
<li><code>ggtime::facet_calendar()</code></li>
</ul>
</div>
</div>
</div>
</div>
</div></div>

<img data-src="backgrounds/estee-janssens-zni0zgb3bkQ-unsplash.jpg" class="image-left r-stretch"></section>
<section id="section-5" class="slide level2">
<h2></h2>
<div class="columns">
<div class="column" style="width:40%;">

</div><div class="column" style="width:60%;">
<h3 id="extending-ggplot2-with-ggtime-1">Extending ggplot2 with ggtime</h3>
<p>These extension types are both useful:</p>
<div class="callout callout-note no-icon callout-titled callout-style-simple">
<div class="callout-body">
<div class="callout-title">
<p><strong><span class="emoji" data-emoji="framed_picture">üñºÔ∏è</span> Plot helpers</strong></p>
</div>
<div class="callout-content">
<p>Plot helpers focus on <strong>what</strong> is being plotted.</p>
<ul>
<li><span class="fragment" data-fragment-index="1"><strong>Convenient</strong> to use during data analysis</span></li>
<li><span class="fragment" data-fragment-index="2"><strong>Limited</strong> customisation options</span></li>
<li><span class="fragment" data-fragment-index="3"><strong>Beginner friendly</strong> for developers and users</span></li>
</ul>
</div>
</div>
</div>
<div class="callout callout-tip no-icon callout-titled callout-style-simple">
<div class="callout-body">
<div class="callout-title">
<p><strong><span class="emoji" data-emoji="art">üé®</span> Grammar extensions</strong></p>
</div>
<div class="callout-content">
<p>Grammar extensions are about <strong>how</strong> something is plotted.</p>
<ul>
<li><span class="fragment" data-fragment-index="1">Plots require a <strong>composition</strong> of many elements</span></li>
<li><span class="fragment" data-fragment-index="2">Very <strong>flexible</strong> usage and styling</span></li>
<li><span class="fragment" data-fragment-index="3"><strong>More difficult</strong> to learn, develop, and use</span></li>
</ul>
</div>
</div>
</div>
</div></div>

<img data-src="backgrounds/estee-janssens-zni0zgb3bkQ-unsplash.jpg" class="image-left r-stretch"></section>
<section id="section-6" class="slide level2">
<h2></h2>
<div class="columns">
<div class="column" style="width:40%;">

</div><div class="column" style="width:60%;">
<h3 id="common-temporal-graphics">Common temporal graphics</h3>
<p>These ‚Äòvisual idioms‚Äô of time series plots can be categorised into two core groups:</p>
<ul>
<li><strong>Linear time plots</strong></li>
<li><strong>Circular time plots</strong></li>
</ul>
<div class="callout callout-tip callout-titled callout-style-simple">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Changing how time is plotted</strong></p>
</div>
<div class="callout-content">
<p>Linear time plots show time <strong>continuously</strong> on the <code>x</code>/<code>y</code> axis.</p>
<p>Circular time plots <strong>loop time</strong> over specific calendar units.</p>
<hr>
<p>These plot styles highlight different patterns in the data.</p>
</div>
</div>
</div>
</div></div>

<!-- ## {} -->
<!-- ::: columns -->
<!-- ::: {.column width="40%"} -->
<!-- ::: -->
<!-- ::: {.column width="60%"} -->
<!-- ### Linear time plots -->
<!-- These show time as a continuous dimension. -->
<!-- ::: -->
<!-- ::: -->
<!-- ![](backgrounds/nathan-dumlao-5Hl5reICevY-unsplash.jpg){.image-left} -->
<img data-src="backgrounds/nathan-dumlao-5Hl5reICevY-unsplash.jpg" class="image-left r-stretch"></section>
<section id="section-7" class="slide level2">
<h2></h2>
<div class="columns">
<div class="column" style="width:40%;">
<h3 id="time-plots">Time plots</h3>
<p>Maps time to the x/y-axis.</p>
<p>They reveal trends, seasons, cycles, outliers, and more.</p>
<div class="fragment fade-up">
<div class="callout callout-note no-icon callout-titled callout-style-simple">
<div class="callout-body">
<div class="callout-title">
<p><strong><span class="emoji" data-emoji="framed_picture">üñºÔ∏è</span> Plot helper</strong></p>
</div>
<div class="callout-content">
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href=""></a><span class="sc">&lt;</span>tsibble<span class="sc">&gt;</span> <span class="er">|&gt;</span></span>
<span id="cb1-2"><a href=""></a>  <span class="fu">autoplot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
<div class="fragment fade-up">
<div class="callout callout-tip no-icon callout-titled callout-style-simple">
<div class="callout-body">
<div class="callout-title">
<p><strong><span class="emoji" data-emoji="art">üé®</span> Grammar elements</strong></p>
</div>
<div class="callout-content">
<ul>
<li>mapping:
<ul>
<li><strong>x: time</strong></li>
<li>y: observations</li>
</ul></li>
<li>coord: cartesian</li>
</ul>
</div>
</div>
</div>
</div>
</div><div class="column" style="width:60%;">
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href=""></a><span class="fu">library</span>(fpp3)</span>
<span id="cb2-2"><a href=""></a>pbs_scripts <span class="ot">&lt;-</span> tsibbledata<span class="sc">::</span>PBS <span class="sc">|&gt;</span></span>
<span id="cb2-3"><a href=""></a>  <span class="fu">summarise</span>(<span class="at">Scripts =</span> <span class="fu">sum</span>(Scripts))</span>
<span id="cb2-4"><a href=""></a>pbs_scripts <span class="sc">|&gt;</span></span>
<span id="cb2-5"><a href=""></a>  <span class="fu">autoplot</span>(Scripts)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="index_files/figure-revealjs/time-plot-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</div></div>
</section>
<section id="section-8" class="slide level2">
<h2></h2>
<div class="columns">
<div class="column" style="width:40%;">
<h3 id="forecast-plots">Forecast plots</h3>
<p>These are simply time plots.</p>
<p>They just happen to show forecasts, or uncertain values.</p>
<div class="fragment fade-up">
<div class="callout callout-note no-icon callout-titled callout-style-simple">
<div class="callout-body">
<div class="callout-title">
<p><strong><span class="emoji" data-emoji="framed_picture">üñºÔ∏è</span> Plot helper</strong></p>
</div>
<div class="callout-content">
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href=""></a><span class="sc">&lt;</span>fable<span class="sc">&gt;</span> <span class="er">|&gt;</span></span>
<span id="cb3-2"><a href=""></a>  <span class="fu">autoplot</span>(<span class="sc">&lt;</span>tsibble<span class="sc">&gt;</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
<div class="fragment fade-up">
<div class="callout callout-tip no-icon callout-titled callout-style-simple">
<div class="callout-body">
<div class="callout-title">
<p><strong><span class="emoji" data-emoji="art">üé®</span> Grammar elements</strong></p>
</div>
<div class="callout-content">
<ul>
<li>mapping:
<ul>
<li>x: time</li>
<li>y: observations</li>
<li><strong>ydist: forecast</strong> (ggtime <span class="emoji" data-emoji="heart">‚ù§Ô∏è</span> ggdist)</li>
</ul></li>
<li>coord: cartesian</li>
</ul>
</div>
</div>
</div>
</div>
</div><div class="column" style="width:60%;">
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href=""></a>pbs_scripts <span class="sc">|&gt;</span> </span>
<span id="cb4-2"><a href=""></a>  <span class="fu">model</span>(<span class="fu">ETS</span>(Scripts)) <span class="sc">|&gt;</span> </span>
<span id="cb4-3"><a href=""></a>  <span class="fu">forecast</span>() <span class="sc">|&gt;</span> </span>
<span id="cb4-4"><a href=""></a>  <span class="fu">autoplot</span>(pbs_scripts) <span class="sc">+</span></span>
<span id="cb4-5"><a href=""></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="index_files/figure-revealjs/forecast-plot-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</div></div>
<!-- ## {} -->
<!-- ::: columns -->
<!-- ::: {.column width="40%"} -->
<!-- ### Multiple time plots -->
<!-- Most data is long and across many series. -->
<!-- ::: {.callout-tip icon=false} -->
<!-- ## :atom_symbol: Notable grammar elements -->
<!-- * mapping:  -->
<!--   * x: time -->
<!--   * y: observations -->
<!--   * **colour: series** -->
<!-- * **coord: cartesian** -->
<!-- ::: -->
<!-- ::: -->
<!-- ::: {.column width="60%"} -->
<!-- ```{r} -->
<!-- #| label: multitime-plot -->
<!-- #| code-fold: true -->
<!-- #| echo: true -->
<!-- #| fig-height: 8.5 -->
<!-- sugrrants::hourly_peds |>  -->
<!--   filter(Date < as.Date("2016-05-01")) |>  -->
<!--   ggplot(aes(x = Date_Time, y = Hourly_Counts, colour = Sensor_Name)) +  -->
<!--   geom_line() + -->
<!--   theme_bw() + -->
<!--   theme(legend.position = "bottom") -->
<!-- ``` -->
<!-- ::: -->
<!-- ::: -->
<!-- ## {} -->
<!-- ::: columns -->
<!-- ::: {.column width="40%"} -->
<!-- ### Calendar plots -->
<!-- Uses calendar layouts (multiple rows) to partially resolve long series. -->
<!-- ::: {.callout-tip icon=false} -->
<!-- ## :atom_symbol: Notable grammar elements -->
<!-- * mapping:  -->
<!--   * x: time -->
<!--   * y: observations -->
<!--   * colour: series -->
<!-- * coord: cartesian -->
<!-- * **facet: calendar** -->
<!-- ::: -->
<!-- ::: -->
<!-- ::: {.column width="60%"} -->
<!-- ```{r} -->
<!-- #| label: facet-calendar -->
<!-- #| code-fold: true -->
<!-- #| echo: true -->
<!-- #| fig-height: 8.5 -->
<!-- library(sugrrants) -->
<!-- hourly_peds %>% -->
<!--   filter(Date < as.Date("2016-05-01")) %>%  -->
<!--   ggplot(aes(x = Time, y = Hourly_Counts, colour = Sensor_Name)) + -->
<!--   geom_line() + -->
<!--   facet_calendar(~ Date) + # a variable contains dates -->
<!--   theme_bw() + -->
<!--   theme(legend.position = "bottom") -->
<!-- ``` -->
<!-- ::: -->
<!-- ::: -->
<!-- ## {} -->
<!-- ::: columns -->
<!-- ::: {.column width="40%"} -->
<!-- ::: -->
<!-- ::: {.column width="60%"} -->
<!-- ### Circular time plots -->
<!-- Transforms time to reveal circular patterns. -->
<!-- ::: -->
<!-- ::: -->
<!-- ![](backgrounds/nathan-dumlao-5Hl5reICevY-unsplash.jpg){.image-left} -->
</section>
<section id="section-9" class="slide level2">
<h2></h2>
<div class="columns">
<div class="column" style="width:40%;">
<h3 id="seasonal-plots">Seasonal plots</h3>
<p>Loops seasons to align years.</p>
<div class="fragment fade-up">
<div class="callout callout-note no-icon callout-titled callout-style-simple">
<div class="callout-body">
<div class="callout-title">
<p><strong><span class="emoji" data-emoji="framed_picture">üñºÔ∏è</span> Plot helper</strong></p>
</div>
<div class="callout-content">
<div class="sourceCode" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href=""></a><span class="sc">&lt;</span>tsibble<span class="sc">&gt;</span> <span class="er">|&gt;</span></span>
<span id="cb5-2"><a href=""></a>  <span class="fu">gg_season</span>(<span class="at">period =</span> <span class="st">"year"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
<div class="fragment fade-up">
<div class="callout callout-tip no-icon callout-titled callout-style-simple">
<div class="callout-body">
<div class="callout-title">
<p><strong><span class="emoji" data-emoji="art">üé®</span> Grammar elements</strong></p>
</div>
<div class="callout-content">
<ul>
<li>mapping:
<ul>
<li><strong>x: season</strong> (e.g.&nbsp;<code>hms</code>)</li>
<li>y: observations</li>
<li>colour: time</li>
</ul></li>
<li>coord: cartesian</li>
</ul>
</div>
</div>
</div>
</div>
</div><div class="column" style="width:60%;">
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href=""></a>pbs_scripts <span class="sc">|&gt;</span></span>
<span id="cb6-2"><a href=""></a>  <span class="fu">gg_season</span>(Scripts)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="index_files/figure-revealjs/season-plot-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</div></div>
<!-- ## {} -->
<!-- ::: columns -->
<!-- ::: {.column width="40%"} -->
<!-- ### Seasonal plots -->
<!-- They are often shown in polar. -->
<!-- ::: {.callout-tip icon=false} -->
<!-- ## :atom_symbol: Notable grammar elements -->
<!-- * mapping:  -->
<!--   * x: season -->
<!--   * y: observations -->
<!--   * colour: time -->
<!-- * **coord: polar** -->
<!-- ::: -->
<!-- ::: -->
<!-- ::: {.column width="60%"} -->
<!-- ```{r} -->
<!-- #| code-fold: true -->
<!-- #| echo: true -->
<!-- #| fig-height: 8.5 -->
<!-- pbs_scripts |> -->
<!--   gg_season(Scripts, polar = TRUE) -->
<!-- ``` -->
<!-- ::: -->
<!-- ::: -->
</section>
<section id="section-10" class="slide level2">
<h2></h2>
<div class="columns">
<div class="column" style="width:40%;">
<h3 id="seasonal-sub-series">Seasonal sub-series</h3>
<p>Season facets to show changes over time.</p>
<div class="fragment fade-up">
<div class="callout callout-note no-icon callout-titled callout-style-simple">
<div class="callout-body">
<div class="callout-title">
<p><strong><span class="emoji" data-emoji="framed_picture">üñºÔ∏è</span> Plot helper</strong></p>
</div>
<div class="callout-content">
<div class="sourceCode" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href=""></a><span class="sc">&lt;</span>tsibble<span class="sc">&gt;</span> <span class="er">|&gt;</span></span>
<span id="cb7-2"><a href=""></a>  <span class="fu">gg_subseries</span>(<span class="at">period =</span> <span class="st">"year"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
<div class="fragment fade-up">
<div class="callout callout-tip no-icon callout-titled callout-style-simple">
<div class="callout-body">
<div class="callout-title">
<p><strong><span class="emoji" data-emoji="art">üé®</span> Grammar elements</strong></p>
</div>
<div class="callout-content">
<ul>
<li>mapping:
<ul>
<li>x: time</li>
<li>y: observations</li>
</ul></li>
<li>coord: cartesian</li>
<li><strong>facet: season</strong></li>
</ul>
</div>
</div>
</div>
</div>
</div><div class="column" style="width:60%;">
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href=""></a>pbs_scripts <span class="sc">|&gt;</span></span>
<span id="cb8-2"><a href=""></a>  <span class="fu">gg_subseries</span>(Scripts)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="index_files/figure-revealjs/subseries-plot-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</div></div>
</section>
<section id="section-11" class="slide level2">
<h2></h2>
<div class="columns">
<div class="column" style="width:40%;">

</div><div class="column" style="width:60%;">
<h3 id="grammar-of-temporal-graphics">Grammar of temporal graphics</h3>
<p><code>{ggtime}</code> re-expresses these common plots with a composable ggplot2-like grammar.</p>
<div class="callout callout-tip no-icon callout-titled callout-style-simple">
<div class="callout-body">
<div class="callout-title">
<p><strong><span class="emoji" data-emoji="dart">üéØ</span> Goals</strong></p>
</div>
<div class="callout-content">
<ul>
<li>Decompose temporal graphics into modular elements.</li>
<li>Provide grammar extensions, and plot helpers using them.</li>
<li>Encourage users to experiment beyond standard plots.</li>
<li>Interoperability with other ggplot2 extensions (e.g.&nbsp;ggdist)</li>
<li>Overcome current limitations of time series graphics.</li>
</ul>
</div>
</div>
</div>
<!-- ::: {.callout-important icon=false} -->
<!-- ## :stop_sign: Current problems of ggplot for time series -->
<!-- * Aligning mixed granularities -->
<!-- ::: -->
</div></div>

<img data-src="backgrounds/chris-lee-70l1tDAI6rM-unsplash.jpg" class="image-left r-stretch"></section>
<section id="section-12" class="slide level2 fragment-remove">
<h2></h2>
<div class="columns">
<div class="column" style="width:60%;">
<div class="fragment fade-out" data-fragment-index="1">
<h3 id="elements-of-ggplot2s-grammar">Elements of ggplot2‚Äôs grammar</h3>
<p>The ggplot2 grammar of graphics identifies <strong>compositional elements</strong> involved in plotting.</p>
<p>Each of these elements are extensible.</p>
</div>
<div class="fragment fade-up" data-fragment-index="1">
<table class="caption-top">
<thead>
<tr class="header">
<th>Element</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Data</td>
<td>The original data to plot</td>
</tr>
<tr class="even">
<td>Aesthetics</td>
<td>Map graphical dimensions</td>
</tr>
<tr class="odd">
<td>Geometries</td>
<td>Graphical objects to plot</td>
</tr>
<tr class="even">
<td>Scales</td>
<td>Transform data to visuals</td>
</tr>
<tr class="odd">
<td>Positions</td>
<td>Adjust placement of values</td>
</tr>
<tr class="even">
<td>Statistics</td>
<td>Data summary statistics</td>
</tr>
<tr class="odd">
<td>Facets</td>
<td>Split plots into subplots</td>
</tr>
<tr class="even">
<td>Coordinates</td>
<td>Plotting reference system</td>
</tr>
<tr class="odd">
<td>Guides</td>
<td>Explain aesthetic mappings</td>
</tr>
<tr class="even">
<td>Themes</td>
<td>Non-data visual style</td>
</tr>
</tbody>
</table>
</div>
</div></div>

<img data-src="backgrounds/gglayers-1528209746.png" class="image-right r-stretch"></section>
<section id="section-13" class="slide level2 fragment-remove">
<h2></h2>
<div class="columns">
<div class="column" style="width:63%;">
<table class="caption-top">
<thead>
<tr class="header">
<th>Element</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Data</strong></td>
<td>The original data to plot</td>
</tr>
<tr class="even">
<td><strong>Aesthetics</strong></td>
<td>Map graphical dimensions</td>
</tr>
<tr class="odd">
<td><strong>Geometries</strong></td>
<td>Graphical objects to plot</td>
</tr>
<tr class="even">
<td><strong>Scales</strong></td>
<td>Transform data to visuals</td>
</tr>
<tr class="odd">
<td><strong>Positions</strong></td>
<td>Adjust placement of values</td>
</tr>
<tr class="even">
<td><strong><em>Statistics</em></strong> *</td>
<td>Data summary statistics</td>
</tr>
<tr class="odd">
<td><strong>Facets</strong></td>
<td>Split plots into subplots</td>
</tr>
<tr class="even">
<td><strong><em>Coordinates</em></strong> *</td>
<td>Plotting reference system</td>
</tr>
<tr class="odd">
<td><strong><em>Guides</em></strong> *</td>
<td>Explain aesthetic mappings</td>
</tr>
<tr class="even">
<td>Themes</td>
<td>Non-data visual style</td>
</tr>
</tbody>
</table>
</div></div>

<img data-src="backgrounds/gglayers-1528209746.png" class="image-right r-stretch"></section>
<section id="section-14" class="slide level2">
<h2></h2>
<div class="columns">
<div class="column" style="width:60%;">
<h3 id="data">Data</h3>
<p>Data for ggplot2 needs to be rectangular.</p>
<p>Most time series datasets look like this:</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 24,320 √ó 5
   Quarter    Region   State           Purpose  Trips
   &lt;date&gt;     &lt;chr&gt;    &lt;chr&gt;           &lt;chr&gt;    &lt;dbl&gt;
 1 1998-01-01 Adelaide South Australia Business  135.
 2 1998-04-01 Adelaide South Australia Business  110.
 3 1998-07-01 Adelaide South Australia Business  166.
 4 1998-10-01 Adelaide South Australia Business  127.
 5 1999-01-01 Adelaide South Australia Business  137.
 6 1999-04-01 Adelaide South Australia Business  200.
 7 1999-07-01 Adelaide South Australia Business  169.
 8 1999-10-01 Adelaide South Australia Business  134.
 9 2000-01-01 Adelaide South Australia Business  154.
10 2000-04-01 Adelaide South Australia Business  169.
# ‚Ñπ 24,310 more rows</code></pre>
</div>
</div>
</div></div>

<img data-src="backgrounds/gglayers-1528209746.png" class="image-right r-stretch"></section>
<section id="section-15" class="slide level2">
<h2></h2>
<div class="columns">
<div class="column" style="width:60%;">
<h3 id="mixed-temporal-granularities">Mixed temporal granularities</h3>
<div class="callout callout-important callout-titled callout-style-simple">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Existing time vectors are limited</strong></p>
</div>
<div class="callout-content">
<ul>
<li>Gregorian calendar only</li>
<li>Limited granularity options (date, datetime)</li>
<li>Cannot mix temporal granularities</li>
</ul>
</div>
</div>
</div>
<div class="fragment fade-up" data-fragment-index="1">
<div class="callout callout-tip callout-titled callout-style-simple">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>A better solution?</strong></p>
</div>
<div class="callout-content">
<p>The <code>{mixtime}</code> package works with:</p>
<ul>
<li><p>Many calendars via <code>{calcal}</code></p>
<p>Gregorian, Chinese, Islamic, Hebrew, ‚Ä¶</p></li>
<li><p>Custom calendars / granularities</p>
<p>Business hours, trading days, trimesters, ‚Ä¶</p></li>
<li><p>Mixed temporal granularities in the same tsibble</p>
<p>Useful for related series at different frequencies!</p></li>
</ul>
</div>
</div>
</div>
</div>
<p><img data-src="resources/mixtime.svg" class="sticker-float-right fragment fade-in" data-fragment-index="1"></p>
</div></div>
<p><img data-src="backgrounds/jon-tyson-FlHdnPO6dlw-unsplash.jpg" class="image-right"></p>
</section>
<section id="section-16" class="slide level2">
<h2></h2>
<div class="columns">
<div class="column" style="width:60%;">
<h3 id="mixed-temporal-granularities-1">Mixed temporal granularities</h3>
<p><code>mixtime</code> vectors works nicely in rectangular data structures for ggplot2.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tsibble: 18 x 5 [1Y, 1Q, 1M]
        Time Region    State    Purpose Trips
   &lt;mixtime&gt; &lt;chr&gt;     &lt;chr&gt;    &lt;chr&gt;   &lt;dbl&gt;
 1      2020 Melbourne Victoria Holiday 7784.
 2      2021 Melbourne Victoria Holiday 7543.
 3   2020 Q1 Melbourne Victoria Holiday 1880.
 4   2020 Q2 Melbourne Victoria Holiday 1965.
 5   2020 Q3 Melbourne Victoria Holiday 1929.
 6   2020 Q4 Melbourne Victoria Holiday 2010.
 7  2020 Jan Melbourne Victoria Holiday  735.
 8  2020 Feb Melbourne Victoria Holiday  573.
 9  2020 Mar Melbourne Victoria Holiday  571.
10  2020 Apr Melbourne Victoria Holiday  607.
11  2020 May Melbourne Victoria Holiday  747.
12  2020 Jun Melbourne Victoria Holiday  611.
13  2020 Jul Melbourne Victoria Holiday  663.
14  2020 Aug Melbourne Victoria Holiday  632.
15  2020 Sep Melbourne Victoria Holiday  634.
16  2020 Oct Melbourne Victoria Holiday  582.
17  2020 Nov Melbourne Victoria Holiday  622.
18  2020 Dec Melbourne Victoria Holiday  806.</code></pre>
</div>
</div>
</div></div>
<p><img data-src="resources/mixtime.svg" class="sticker-float-right"></p>
<p><img data-src="backgrounds/jon-tyson-FlHdnPO6dlw-unsplash.jpg" class="image-right"></p>
</section>
<section id="section-17" class="slide level2 fragment-remove dense-list">
<h2></h2>
<div class="cell">
<style type="text/css">
.dense-list ul, .dense-list details {
  margin-bottom: 0 !important;
}
</style>
</div>
<div class="columns">
<div class="column" style="width:60%;">
<h3 id="geometries">Geometries</h3>
<ul>
<li><p><code>geom_time_line()</code></p>
<div class="fragment fade-out" data-fragment-index="2">
<p>A time-aware version of <code>geom_line()</code>. Shows timezone offsets with dashed lines from the <code>[x/y]_time_offset</code> <strong>aesthetic</strong>.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href=""></a>tz_shift <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(tsibbledata<span class="sc">::</span>gafa_stock) <span class="sc">|&gt;</span></span>
<span id="cb11-2"><a href=""></a>  <span class="fu">filter</span>(</span>
<span id="cb11-3"><a href=""></a>    (Symbol <span class="sc">==</span> <span class="st">"AAPL"</span> <span class="sc">&amp;</span> Date <span class="sc">&lt;=</span> <span class="st">"2014-01-15"</span>) <span class="sc">|</span> </span>
<span id="cb11-4"><a href=""></a>      (Symbol <span class="sc">==</span> <span class="st">"GOOG"</span> <span class="sc">&amp;</span> Date <span class="sc">&lt;=</span> <span class="st">"2014-01-13"</span>)</span>
<span id="cb11-5"><a href=""></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb11-6"><a href=""></a>  <span class="fu">mutate</span>(<span class="at">Date =</span> <span class="fu">Sys.Date</span>() <span class="sc">+</span> <span class="fu">hours</span>(<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="dv">3</span><span class="sc">:</span><span class="dv">9</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="dv">4</span><span class="sc">:</span><span class="dv">9</span>)), <span class="at">DST =</span> <span class="fu">ifelse</span>(Symbol <span class="sc">==</span> <span class="st">"AAPL"</span>, <span class="st">"DST Ends"</span>, <span class="st">"DST Begins"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb11-7"><a href=""></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="dv">3</span><span class="sc">:</span><span class="dv">12</span>, <span class="dv">12</span><span class="sc">:</span><span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb11-8"><a href=""></a>  <span class="fu">mutate</span>(</span>
<span id="cb11-9"><a href=""></a>    <span class="at">open =</span> <span class="fu">duplicated</span>(Open),</span>
<span id="cb11-10"><a href=""></a>    <span class="at">closed =</span> <span class="fu">c</span>(open[<span class="sc">-</span><span class="dv">1</span>], <span class="cn">FALSE</span>),</span>
<span id="cb11-11"><a href=""></a>    <span class="at">Date =</span> Date <span class="sc">+</span> open<span class="sc">*</span><span class="dv">3600</span><span class="sc">*</span>((DST<span class="sc">==</span><span class="st">"DST Begins"</span>)<span class="sc">*</span><span class="dv">2-1</span>)</span>
<span id="cb11-12"><a href=""></a>  ) </span>
<span id="cb11-13"><a href=""></a></span>
<span id="cb11-14"><a href=""></a>tz_shift <span class="sc">|&gt;</span> </span>
<span id="cb11-15"><a href=""></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Date, <span class="at">y =</span> Close)) <span class="sc">+</span> </span>
<span id="cb11-16"><a href=""></a>  <span class="fu">geom_path</span>(<span class="fu">aes</span>(<span class="at">group =</span> <span class="fu">cumsum</span>(open))) <span class="sc">+</span> </span>
<span id="cb11-17"><a href=""></a>  <span class="fu">geom_path</span>(<span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">data =</span> <span class="fu">filter</span>(tz_shift, open <span class="sc">|</span> closed)) <span class="sc">+</span></span>
<span id="cb11-18"><a href=""></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(DST), <span class="at">ncol =</span> <span class="dv">2</span>, <span class="at">scales =</span> <span class="st">"free_y"</span>) <span class="sc">+</span> </span>
<span id="cb11-19"><a href=""></a>  <span class="fu">scale_shape_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"TRUE"</span> <span class="ot">=</span> <span class="dv">16</span>, <span class="st">"FALSE"</span> <span class="ot">=</span> <span class="dv">1</span>)) <span class="sc">+</span> </span>
<span id="cb11-20"><a href=""></a>  <span class="fu">guides</span>(<span class="at">shape =</span> <span class="st">"none"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-3-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</div></li>
</ul>
<div class="fragment fade-up" data-fragment-index="2">
<ul>
<li><p><code>geom_time_candle()</code></p>
<p>Shows value changes over time periods (e.g.&nbsp;daily, weekly, ‚Ä¶) which are calculated using the <code>stat_candle</code> <strong>statistic</strong>.</p></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href=""></a>tsibbledata<span class="sc">::</span>gafa_stock <span class="sc">|&gt;</span> </span>
<span id="cb12-2"><a href=""></a>  <span class="fu">filter</span>(Symbol <span class="sc">==</span> <span class="st">"GOOG"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb12-3"><a href=""></a>  <span class="fu">filter</span>(<span class="fu">yearmonth</span>(Date) <span class="sc">==</span> <span class="fu">yearmonth</span>(<span class="st">"2014 Jun"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb12-4"><a href=""></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Date)) <span class="sc">+</span> </span>
<span id="cb12-5"><a href=""></a>  tidyquant<span class="sc">::</span><span class="fu">geom_candlestick</span>(</span>
<span id="cb12-6"><a href=""></a>    <span class="fu">aes</span>(<span class="at">open =</span> Open, <span class="at">high =</span> High, <span class="at">low =</span> Low, <span class="at">close =</span> Close),</span>
<span id="cb12-7"><a href=""></a>    <span class="at">colour_up =</span> <span class="st">"#1FB974"</span>, <span class="at">fill_up =</span> <span class="st">"#1FB974"</span>, <span class="at">colour_down =</span> <span class="st">"#F4375D"</span>, <span class="at">fill_down =</span> <span class="st">"#F4375D"</span></span>
<span id="cb12-8"><a href=""></a>  ) <span class="sc">+</span> </span>
<span id="cb12-9"><a href=""></a>  <span class="fu">scale_x_date</span>(<span class="at">date_labels =</span> <span class="st">"%d %b %Y"</span>) <span class="sc">+</span></span>
<span id="cb12-10"><a href=""></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"GOOG Stock"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-4-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</div>
</div></div>
<p><img data-src="backgrounds/gglayers-1528209746.png" class="image-right"></p>
</section>
<section id="section-18" class="slide level2 fragment-remove">
<h2></h2>
<div class="columns">
<div class="column" style="width:60%;">
<h3 id="positions">Positions</h3>
<p>The x/y position of time is timezone adjusted:</p>
<ul>
<li><p><code>position_time_absolute()</code> positions time at its exact global location.</p>
<div class="fragment fade-out" data-fragment-index="1">
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href=""></a>pedestrian <span class="sc">|&gt;</span> </span>
<span id="cb13-2"><a href=""></a>  <span class="fu">filter</span>(Sensor <span class="sc">==</span> <span class="st">"Southern Cross Station"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb13-3"><a href=""></a>  <span class="fu">filter</span>(<span class="fu">year</span>(Date_Time) <span class="sc">==</span> <span class="dv">2015</span>) <span class="sc">|&gt;</span> </span>
<span id="cb13-4"><a href=""></a>  <span class="fu">mutate</span>(<span class="at">Date_Time =</span> <span class="fu">force_tz</span>(<span class="fu">make_datetime</span>(<span class="fu">year</span>(Date), <span class="fu">month</span>(Date), <span class="fu">day</span>(Date), Time), <span class="st">"Australia/Melbourne"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb13-5"><a href=""></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Date_Time <span class="sc">-</span> <span class="fu">as.POSIXct</span>(Date), <span class="at">y =</span> Count, <span class="at">group =</span> Date)) <span class="sc">+</span> </span>
<span id="cb13-6"><a href=""></a>  <span class="fu">geom_line</span>(<span class="at">alpha =</span> <span class="fl">0.2</span>) <span class="sc">+</span> </span>
<span id="cb13-7"><a href=""></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_blank</span>()) <span class="sc">+</span> </span>
<span id="cb13-8"><a href=""></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Time"</span>, <span class="at">title =</span> <span class="st">"Hourly pedestrians passing Southern Cross Station"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-5-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
<p>Timezone differences (e.g.&nbsp;daylight savings) misaligns seasonal patterns.</p>
</div></li>
</ul>
<div class="fragment fade-up" data-fragment-index="1">
<ul>
<li><p><code>position_time_civil()</code> positions time as it appears locally in each timezone.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href=""></a>pedestrian <span class="sc">|&gt;</span> </span>
<span id="cb14-2"><a href=""></a>  <span class="fu">filter</span>(Sensor <span class="sc">==</span> <span class="st">"Southern Cross Station"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb14-3"><a href=""></a>  <span class="fu">filter</span>(<span class="fu">year</span>(Date_Time) <span class="sc">==</span> <span class="dv">2015</span>) <span class="sc">|&gt;</span> </span>
<span id="cb14-4"><a href=""></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Time, <span class="at">y =</span> Count, <span class="at">group =</span> Date)) <span class="sc">+</span> </span>
<span id="cb14-5"><a href=""></a>  <span class="fu">geom_line</span>(<span class="at">alpha =</span> <span class="fl">0.2</span>) <span class="sc">+</span> </span>
<span id="cb14-6"><a href=""></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_blank</span>()) <span class="sc">+</span> </span>
<span id="cb14-7"><a href=""></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Time"</span>, <span class="at">title =</span> <span class="st">"Hourly pedestrians passing Southern Cross Station"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-6-1.png" width="960"></p>
</figure>
</div>
</div>
</div></li>
</ul>
</div>
<!-- TODO: Add example from pedestrian counters -->
</div></div>
<p><img data-src="backgrounds/gglayers-1528209746.png" class="image-right"></p>
</section>
<section id="section-19" class="slide level2">
<h2></h2>
<div class="columns">
<div class="column" style="width:60%;">
<h3 id="scales">Scales</h3>
<div style="font-size:80%;">
<p>The scales in <code>ggplot2</code> provide:</p>
<ul>
<li><code>scale_*_date()</code> for <code>Date</code>,</li>
<li><code>scale_*_datetime()</code> for <code>POSIXct</code>,</li>
<li><code>scale_*_time()</code> for <code>hms</code>.</li>
</ul>
<p>Extension packages (e.g.&nbsp;<code>tsibble</code>) add:</p>
<ul>
<li><code>scale_*_yearquarter()</code> for <code>yearquarter</code>,</li>
<li><code>scale_*_yearmonth()</code> for <code>yearmonth</code>,</li>
<li><code>scale_*_yearweek()</code> for <code>yearweek</code>.</li>
</ul>
</div>
<div class="fragment fade-up">
<div class="callout callout-tip callout-titled callout-style-simple">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Unified scales for time series</strong></p>
</div>
<div class="callout-content">
<p><code>mixtime</code> has many calendars and granularities.</p>
<p><code>ggtime</code> unifies them all with <code>scale_*_mixtime()</code>.</p>
</div>
</div>
</div>
</div>
</div></div>

<img data-src="backgrounds/gglayers-1528209746.png" class="image-right r-stretch"></section>
<section id="section-20" class="slide level2">
<h2></h2>
<div class="columns">
<div class="column" style="width:60%;">
<h3 id="scales-1">Scales</h3>
<p>The mixtime scales support temporal labels and breaks, much like ggplot2:</p>
<ul>
<li><code>time_labels</code> (strftime, e.g.&nbsp;<code>"%Y %b"</code>)</li>
<li><code>time_breaks</code> (duration, e.g.&nbsp;<code>"3 months"</code>)</li>
</ul>
<div class="fragment fade-up">
<p>These scales also handle the alignment of:</p>
<ul>
<li>granularities (<code>time_align</code> 0-1)</li>
<li>cycles (<code>warp</code> and <code>time_warp</code>)</li>
</ul>
</div>
</div></div>

<img data-src="backgrounds/gglayers-1528209746.png" class="image-right r-stretch"></section>
<section id="section-21" class="slide level2 fragment-remove">
<h2></h2>
<div class="columns">
<div class="column" style="width:40%;">

</div><div class="column" style="width:60%;">
<h3 id="granularity-alignment">Granularity alignment</h3>
<div class="fragment fade-out" data-fragment-index="1">
<p><code>{ggtime}</code> <strong>aligns mixed granularities</strong>.</p>
<p>Imagine Australian births (annual) compared with total births by state (monthly).</p>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-7-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
<div class="fragment fade-up" data-fragment-index="1">
<div class="callout callout-note no-icon callout-titled callout-style-simple">
<div class="callout-body">
<div class="callout-title">
<p><strong><span class="emoji" data-emoji="date">üìÖ</span> Temporal alignment across granularities</strong></p>
</div>
<div class="callout-content">
<p>When constrained to Date and POSIXct, left alignment is commonly used for less-frequent granularities.</p>
<p>e.g.&nbsp;<code>2025-01-01</code> can be 2025, Jan 2025, or Jan 1 2025.</p>
<p>Consequently, plotting is also often left-aligned.</p>
</div>
</div>
</div>
</div>
</div></div>
<p><img data-src="backgrounds/chris-lee-70l1tDAI6rM-unsplash.jpg" class="image-left"></p>
</section>
<section id="section-22" class="slide level2 fragment-remove">
<h2></h2>
<div class="columns">
<div class="column" style="width:40%;">

</div><div class="column" style="width:60%;">
<h3 id="granularity-alignment-1">Granularity alignment</h3>
<p><code>{ggtime}</code> center aligns granularities.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-8-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
<div class="callout callout-note no-icon callout-titled callout-style-simple">
<div class="callout-body">
<div class="callout-title">
<p><strong><span class="emoji" data-emoji="date">üìÖ</span> Aligning temporal granularities</strong></p>
</div>
<div class="callout-content">
<p>Specify alignment of different granularities with <code>scale_x_mixtime(align_time = &lt;0-1&gt;)</code>.</p>
</div>
</div>
</div>
</div></div>
<p><img data-src="backgrounds/chris-lee-70l1tDAI6rM-unsplash.jpg" class="image-left"></p>
</section>
<section id="section-23" class="slide level2 fragment-remove">
<h2></h2>
<div class="columns">
<div class="column" style="width:40%;">

</div><div class="column" style="width:60%;">
<h3 id="time-warping">Time warping</h3>
<p><code>{ggtime}</code> defaults to center alignment.</p>
<div class="fragment fade-out" data-fragment-index="1">
<p>Cycles are repeating patterns with an irregular duration (and shape).</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-9-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</div>
<div class="fragment fade-up" data-fragment-index="1">
<p>Warping cycles to have the same length as ‚Äú% of cycle‚Äù can help <strong>compare cycle shapes</strong>.</p>
<div class="fragment fade-out" data-fragment-index="2">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-10-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<div class="fragment fade-up" data-fragment-index="2">
<div class="callout callout-note no-icon callout-titled callout-style-simple">
<div class="callout-body">
<div class="callout-title">
<p><strong><span class="emoji" data-emoji="date">üìÖ</span> Temporal alignment across cycles</strong></p>
</div>
<div class="callout-content">
<p>In <code>scale_x_mixtime()</code>, warp time with</p>
<ul>
<li><code>warp</code> (stretch time between specific time points)</li>
<li><code>time_warp</code> (stretch time by duration, e.g.&nbsp;<code>"1 month"</code>)</li>
</ul>
</div>
</div>
</div>
</div>
</div></div>
<p><img data-src="backgrounds/chris-lee-70l1tDAI6rM-unsplash.jpg" class="image-left"></p>
</section>
<section id="section-24" class="slide level2">
<h2></h2>
<div class="columns">
<div class="column" style="width:60%;">
<h3 id="facets-coordinates">Facets &amp; Coordinates</h3>
<p>Two calendar-plot approaches:</p>
<ul>
<li><code>facet_calendar()</code></li>
<li><code>coord_calendar()</code></li>
</ul>
<div class="callout callout-tip no-icon callout-titled callout-style-simple">
<div class="callout-body">
<div class="callout-title">
<p><strong><span class="emoji" data-emoji="date">üìÖ</span> Calendar layouts for temporal graphics</strong></p>
</div>
<div class="callout-content">
<p>Calendars are useful for plotting long time series, they:</p>
<ul>
<li>use a familiar layout for quickly identifying dates.</li>
<li>reveal short annual patterns (e.g.&nbsp;holidays and events).</li>
<li>have a better aspect-ratio for dense time axis.</li>
<li>more effectively use vertical space.</li>
</ul>
<p>Calendars are not limited to the standard weekly layout, but are hierarchical in nature over any calendar structure.</p>
</div>
</div>
</div>
</div></div>

<img data-src="backgrounds/gglayers-1528209746.png" class="image-right r-stretch"></section>
<section id="section-25" class="slide level2">
<h2></h2>
<div class="columns">
<div class="column" style="width:60%;">
<h3 id="calendar-facets">Calendar facets</h3>
<p><span style="font-size:80%">Facets separate each day (or calendar period).</span></p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-11-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</div></div>
<p><img data-src="backgrounds/gglayers-1528209746.png" class="image-right"></p>
</section>
<section id="section-26" class="slide level2">
<h2></h2>
<div class="columns">
<div class="column" style="width:60%;">
<h3 id="calendar-coordinates">Calendar coordinates</h3>
<p><span style="font-size:80%">Each day (or calendar period) shares the same panel.</span></p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-12-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</div></div>
<p><img data-src="backgrounds/gglayers-1528209746.png" class="image-right"></p>
</section>
<section id="section-27" class="slide level2">
<h2></h2>
<div class="columns">
<div class="column" style="width:60%;">
<h3 id="facets-coordinates-1">Facets &amp; Coordinates</h3>
<p>Season plots loop time over seasonalities.</p>
<ul>
<li><code>coord_time_loop()</code></li>
</ul>
<p>The time loop points can be specified with:</p>
<ul>
<li><code>loops</code> (loop over specific time points)</li>
<li><code>time_loops</code> (loop by duration - <code>"1 week"</code>)</li>
</ul>
</div></div>

<img data-src="backgrounds/gglayers-1528209746.png" class="image-right r-stretch"></section>
<section id="section-28" class="slide level2 fragment-remove">
<h2></h2>
<div class="columns">
<div class="column" style="width:60%;">
<h3 id="looping-circular-time-periods">Looping circular time periods</h3>
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-13-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
<div class="callout callout-tip callout-titled callout-style-simple">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Looping continuous time</strong></p>
</div>
<div class="callout-content">
<p>Looping the x-axis over seasonal granularities (e.g.&nbsp;day, week, or year) clearly shows seasonality.</p>
<p><code>coord_time_loop(time_loops = "1 year")</code></p>
</div>
</div>
</div>
</div></div>
<p><img data-src="backgrounds/gglayers-1528209746.png" class="image-right"></p>
</section>
<section id="section-29" class="slide level2 fragment-remove">
<h2></h2>
<div class="columns">
<div class="column" style="width:60%;">
<h3 id="looping-circular-time-periods-1">Looping circular time periods</h3>
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-14-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
<div class="callout callout-tip callout-titled callout-style-simple">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Non-cartesian coordinates</strong></p>
</div>
<div class="callout-content">
<p>Looping conceptually applies to other coordinate spaces too. Combining <code>coord_loop()</code> and <code>coord_polar()</code> shows seasonality in polar coordinates.</p>
</div>
</div>
</div>
</div></div>
<p><img data-src="backgrounds/gglayers-1528209746.png" class="image-right"></p>
</section>
<section id="thanks-for-your-time" class="slide level2">
<h2>Thanks for your time!</h2>
<div class="columns">
<div class="column" style="width:60%;">
<div class="callout callout-tip callout-titled callout-style-simple">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Closing remarks</strong></p>
</div>
<div class="callout-content">
<p>Become a ggplot2 extender!</p>
<ul>
<li><p>Start with making plot helpers using ggplot2</p></li>
<li><p>Create a new branded <code>theme</code> for your organisation</p></li>
<li><p>Extend the grammar with a new <code>Geom</code> and <code>Stat</code></p></li>
<li><p>See how others have written ggplot extensions</p>
<p>(there‚Äôs plenty of examples out there!)</p></li>
</ul>
</div>
</div>
</div>
<div class="callout-link">
<div class="callout callout-link callout-titled callout-style-simple">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Useful links</strong></p>
</div>
<div class="callout-content">
<p><img data-src="resources/forum.svg" class="icon"> <a href="https://social.mitchelloharawild.com/">social.mitchelloharawild.com</a></p>
<p><img data-src="resources/projector-screen-outline.svg" class="icon"> <a href="https://slides.mitchelloharawild.com/jsm2025">slides.mitchelloharawild.com/jsm2025</a></p>
<p><img data-src="resources/github.svg" class="icon"> <a href="https://github.com/mitchelloharawild/talk-jsm-ggtime">mitchelloharawild/talk-jsm-ggtime</a></p>
</div>
</div>
</div>
</div>
</div></div>
<p><img data-src="backgrounds/meric-dagli-7NBO76G5JsE-unsplash.jpg" class="image-right"></p>
</section>
<section id="unsplash-credits" class="slide level2">
<h2>Unsplash credits</h2>
<div class="callout-unsplash">
<div class="callout callout-unsplash callout-titled callout-style-simple">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Thanks to these Unsplash contributors for their photos</strong></p>
</div>
<div class="callout-content">
<div class="cell">
<div class="cell-output-display">
<ul>
<li>Est√©e Janssens: <a href="https://unsplash.com/photos/zni0zgb3bkQ">Back to school with a bullet journal</a></li>
<li>David Pisnoy: <a href="https://unsplash.com/photos/46juD4zY1XA">Photo</a></li>
<li>Andrik Langfield: <a href="https://unsplash.com/photos/0rTCXZM7Xfo">Photo</a></li>
<li>Isabela Kronemberger: <a href="https://unsplash.com/photos/OegFhZfw6Ok">set of tools</a></li>
<li>Jon Tyson: <a href="https://unsplash.com/photos/FlHdnPO6dlw">Photo</a></li>
<li>Nathan Dumlao: <a href="https://unsplash.com/photos/5Hl5reICevY">Photo</a></li>
<li>Chris Lee: <a href="https://unsplash.com/photos/70l1tDAI6rM">Behind the leaves.</a></li>
<li>Meri√ß Daƒülƒ±: <a href="https://unsplash.com/photos/7NBO76G5JsE">Photo</a></li>
</ul>

</div>
</div>
</div>
</div>
</div>
</div>

</section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="index_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="index_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="index_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="index_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="index_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="index_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="index_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="index_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="index_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="index_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":false},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: false,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1280,

        height: 720,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script>
    // Copy over background colors to new div
    divs = document.querySelectorAll('[data-background-color]');

    Array.from(divs).map(function (x) {
      const color = x.dataset.backgroundColor;

      var new_div = document.createElement('div');
      new_div.setAttribute("class", "background-color-div");
      new_div.style.backgroundColor = color;
      x.appendChild(new_div);
      x.removeAttribute("data-background-color");
    })

    // Remove background colors from backgrounds div
    Array.from(
      document.querySelectorAll("[data-background-hash]")
    ).map(function (x) {
      x.removeAttribute("data-background-hash");
      x.style.backgroundColor = null;
    })
    </script>

    <script>
    // Copy over background images to new div
    divs = document.querySelectorAll('[data-background-image]');

    Array.from(divs).map(function (x) {
      var new_div = document.createElement('div');
      new_div.setAttribute("class", "background-image-div");

      if (x.dataset.backgroundImage != undefined) {
        new_div.style.backgroundImage = "url(" + x.dataset.backgroundImage + ")";
        x.removeAttribute("data-background-image");
      }
      if (x.dataset.backgroundSize != undefined) {
        new_div.style.backgroundSize = x.dataset.backgroundSize;
        x.removeAttribute("data-background-size");
      }
      if (x.dataset.backgroundPosition != undefined) {
        new_div.style.backgroundPosition = x.dataset.backgroundPosition;
        x.removeAttribute("data-background-position");
      }
      if (x.dataset.backgroundRepeat != undefined) {
        new_div.style.backgroundRepeat = x.dataset.backgroundRepeat;
        x.removeAttribute("data-background-repeat");
      }
      if (x.dataset.backgroundOpacity != undefined) {
        new_div.style.backgroundOpacity = x.dataset.backgroundOpacity;
        x.removeAttribute("data-background-opacity");
      }

      x.appendChild(new_div);
    })
    </script>

    <script>
    // Copy over background vidoes

    // Run once when we load
    var video_div = document.querySelectorAll(".backgrounds video");
    var slide_div = document.querySelectorAll("[data-background-video]");

    for (let i = 0; i < video_div.length; i++) {
      video_div[i].setAttribute("class", "background-video-div");

      slide_div[i].appendChild(video_div[i]);
      slide_div[i].removeAttribute("data-background-video");
    }

    Reveal.getCurrentSlide().querySelectorAll("video").forEach(x => x.play());

    // Each time we advance slides, as the background videos aren't loaded
    // unless they are a few slides away
    Reveal.on('slidechanged', event => {
      var video_div = document.querySelectorAll(".backgrounds video");
      var slide_div = document.querySelectorAll("[data-background-video]");

      for (let i = 0; i < video_div.length; i++) {
        video_div[i].setAttribute("class", "background-video-div");

        slide_div[i].appendChild(video_div[i]);
        slide_div[i].removeAttribute("data-background-video");
      }

      Reveal.getCurrentSlide().querySelectorAll("video").forEach(x => x.play());
    });
    </script>

    <script>
    // Copy over background vidoes

    // Run once when we load
    var iframe_div = document.querySelectorAll(".backgrounds iframe");
    var slide_div = document.querySelectorAll("[data-background-iframe]");

    for (let i = 0; i < iframe_div.length; i++) {
      iframe_div[i].setAttribute("class", "background-iframe-div");

      slide_div[i].appendChild(iframe_div[i]);
      slide_div[i].removeAttribute("data-background-iframe");
    }

    // Each time we advance slides, as the background videos aren't loaded
    // unless they are a few slides away
    Reveal.on('slidechanged', event => {
      var iframe_div = document.querySelectorAll(".backgrounds iframe");
      var slide_div = document.querySelectorAll("[data-background-iframe]");

      for (let i = 0; i < iframe_div.length; i++) {
        iframe_div[i].setAttribute("class", "background-iframe-div");

        slide_div[i].appendChild(iframe_div[i]);
        slide_div[i].removeAttribute("data-background-iframe");
      }
    });
    </script>

    <script>
    // Clean up slide background styles
    divs = document.querySelectorAll('.slide-background-content');
    Array.from(divs).map(function (x) {
      x.style = null;
    })
    </script>

    <script>
    // Move menu button
    menu_div = document.querySelector(".slide-menu-button");
    document.querySelector(".slides").appendChild(menu_div);

    // Move progress bar
    menu_div = document.querySelector(".progress");
    document.querySelector(".slides").appendChild(menu_div);
    </script>

    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
            const codeEl = trigger.previousElementSibling.cloneNode(true);
            for (const childEl of codeEl.children) {
              if (isCodeAnnotation(childEl)) {
                childEl.remove();
              }
            }
            return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp('/' + window.location.host + '/');
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>